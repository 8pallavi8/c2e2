<mat-toolbar class="mat-toolbar">
    <mat-toolbar-row class="d-flex justify-content-between">
    </mat-toolbar-row>
</mat-toolbar>

<div class="container-fluid beet-container">
    <form [formGroup]="formgroup" class="form">

        <fieldset>
            <legend>Plug loads (equipment/appliances inside occupied conditioned area)</legend>
            <h2>Plug loads (equipment/appliances inside occupied conditioned area) </h2>

            <div class="container">
                <p>Do you know the plug load density for your building ?</p>
                <div class="fields-note">
                    <p><span class="notes-style"> Note:</span>You may select any of the options. Option C available
                        for selected cases only.
                    </p>
                </div>
                <mat-radio-group aria-label="Select an option" formControlName="plugloads"
                    (change)="onChangeAvailbePlugLoad($event)">
                    <mat-radio-button value="1">Yes, I know</mat-radio-button><br>
                    <mat-radio-button value="2">No, I don't know. Guide me to calculate.</mat-radio-button><br>
                    <mat-radio-button value="3">I will select from already
                        available values</mat-radio-button>
                </mat-radio-group><br><br>

                <!-- Plugload value known -->
                <span *ngIf="formgroup.controls.plugloads.value == 1" class="units-picker-component">
                    <p class="fields-note">You may choose to enter the values for any of the units mentioned
                        below. Necessary units conversions will be made by
                        the tool for respective calculations.</p>
                    <b style="margin-top: 1em;">Plug Load value : </b>
                    <mat-form-field class="w-100 mt-2 col-md-4" appearance="outline">
                        <mat-label>Enter value here</mat-label>
                        <input matInput placeholder="Enter value" formControlName="plugLoadValueKnown" type="number">
                        <mat-select placeholder="units" [(ngModel)]=plugLoadUnits formControlName="plugLoadUnits">
                            <mat-option value="watts per square meter">watts per square meter</mat-option>
                            <mat-option value="watts per square foot">watts per square foot</mat-option>
                        </mat-select>
                    </mat-form-field>
                </span>

                <!-- plugload guide to calculate -->
                <span class="container-fluid beet-container">
                   
                        
                        <div class="fields-note">
                            <p><span class="notes-style"> Note:</span> Please be ready with type, number, power rating (wattage)
                                details
                                of the lighting fixtures</p>
                        </div>
                   
                        <table mat-table [dataSource]="optcDataSource" class="mat-elevation-z8">

                            <!--- Note that these columns can be defined in any order.
                                  The actual rendered columns are set as a property on the row definition" -->
                          
                            <!-- Position Column -->
                            <ng-container matColumnDef="buildingtype">
                                <th mat-header-cell *matHeaderCellDef> Building Type </th>
                                <td mat-cell *matCellDef="let element"> 
                                    {{element.buildingtype}}
                                </td>
                            </ng-container>
                
                        
                            <ng-container matColumnDef="avgpplwperft2">
                                <th mat-header-cell *matHeaderCellDef> Average PPL ft2</th>
                                <td mat-cell *matCellDef="let element">
                                    {{element.avgpplwperft2}}
                                </td>
                            </ng-container>
                
                            <ng-container matColumnDef="avgpplwperm2">
                                <th mat-header-cell *matHeaderCellDef> Average PPL mt2 </th>
                                <td mat-cell *matCellDef="let element">
                                    {{element.avgpplwperm2}}
                                </td>
                            </ng-container>
                
                            <ng-container matColumnDef="totalareaft2">
                                <th mat-header-cell *matHeaderCellDef> Total Area in ft2 </th>
                                <td mat-cell *matCellDef="let element">
                                    {{element.totalareaft2}}
                                </td>
                            </ng-container>
                
                            <ng-container matColumnDef="totalaream2">
                                <th mat-header-cell *matHeaderCellDef> Total Area in mt2</th>
                                <td mat-cell *matCellDef="let element">
                                    {{element.totalaream2}}
                                </td>
                            </ng-container>
                          
                            <tr mat-header-row *matHeaderRowDef="displayOPTCColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayOPTCColumns;"></tr>
                          </table>
                          
                          
                </span>


                <!-- plugload available -->

                <span *ngIf="formgroup.controls.plugloads.value == 3">
                    <div class="example-container mat-elevation-z8">

                        

                            <table mat-table [dataSource]="availablePlugLoaddataSource">

                                <!-- Selected Column -->
                                <ng-container matColumnDef="select">
                                    <th mat-header-cell *matHeaderCellDef>
                                        Selected Element
                                    </th>
                                    <td mat-cell *matCellDef="let element">
                                        <mat-radio-button [value]="element" (click)="selectedR($event, element)">
                                        </mat-radio-button>
                                    </td>
                                </ng-container>


                                <ng-container matColumnDef="Building Type">
                                    <th mat-header-cell *matHeaderCellDef> Building Type</th>
                                    <td mat-cell *matCellDef="let element"> {{element.buildingtype}} </td>
                                </ng-container>

                                <ng-container matColumnDef="Average PPL ft2">
                                    <th mat-header-cell *matHeaderCellDef> "Average PPL ft2" </th>
                                    <td mat-cell *matCellDef="let element"> {{element.avgpplwperft2}} </td>
                                </ng-container>

                                <ng-container matColumnDef="Average PPL mt2">
                                    <th mat-header-cell *matHeaderCellDef>Average PPL mt2</th>
                                    <td mat-cell *matCellDef="let element"> {{element.avgpplwperm2}} </td>
                                </ng-container>

                                <ng-container matColumnDef="Total Area in ft2">
                                    <th mat-header-cell *matHeaderCellDef>Total Area in ft2</th>
                                    <td mat-cell *matCellDef="let element"> {{element.totalareaft2}} </td>
                                </ng-container>

                                <ng-container matColumnDef="Total Area in mt2">
                                    <th mat-header-cell *matHeaderCellDef>Total Area in mt2</th>
                                    <td mat-cell *matCellDef="let element"> {{element.totalaream2}} </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedAvailbleColumns; sticky: true"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedAvailbleColumns;"></tr>
                            </table>

                    </div>
                </span>

            </div>
        </fieldset>


        <fieldset>
            <legend>Plug loads operations and practices</legend>
            <h2>Plug loads operations and practices</h2>

            <div class="container">

                <p>Select the option "Yes" or "No" and enter the quantity</p>
                <div class="example-container mat-elevation-z8">

                    <mat-table #table [dataSource]="dataSource">

                        <!-- operations Column -->
                        <ng-container matColumnDef="operations">
                            <mat-header-cell *matHeaderCellDef> Operations and pratices </mat-header-cell>
                            <mat-cell *matCellDef="let option"> {{option.operations}} </mat-cell>
                        </ng-container>

                        <!-- options Column -->
                        <ng-container matColumnDef="options">
                            <mat-header-cell *matHeaderCellDef> Yes/No/NA </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <mat-form-field floatLabel="never">
                                    <mat-select [(value)]="element.options" placeholder="select">
                                        <mat-option value="NA">NA</mat-option>
                                        <mat-option value="Yes">Yes</mat-option>
                                        <mat-option value="No">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="quantity">
                            <mat-header-cell *matHeaderCellDef>Quantity</mat-header-cell>
                            <mat-cell *matCellDef="let quantity">
                                <mat-form-field floatLabel="never">
                                    <input matInput placeholder="Quantity">
                                </mat-form-field>
                            </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                    </mat-table>
                </div>

            </div>
        </fieldset>

    </form>
</div>