<div class="container-fluid">
    <form [formGroup]="genDetailsForm" class="form mt-4">

        <fieldset>

            <legend>Location Details</legend>
            <h2 class="heading-style">1.1 {{'BEEC.GENDETAILS.LOC_DETAILS_TITLE' | translate}}</h2>
            <p>{{'BEEC.GENDETAILS.LOC_DETAILS_TEXT' | translate}}
            </p>
            <div class="fields-note">
                <p><span class="notes-style"> {{'BEEC.COMMON.NOTE' | translate}}:</span> {{'BEEC.GENDETAILS.LOC_DETAILS_NOTE_TEXT' | translate}}
                </p>
            </div>
            <div class="field-align">

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.LOC_DETAILS_COUNTRY' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select id="Country" (selectionChange)="onChangeCountry($event)" formControlName="country"
                            required placeholder="{{'BEEC.GENDETAILS.LOC_DETAILS_COUNTRY_PLACEHOLDER' | translate}}">
                            <mat-option *ngFor="let con of countrylist" [attr.data-id]="con.country"
                                placeholder="Select Country" [value]="con.countrycode">{{con.country}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.LOC_DETAILS_PROVINCE' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select matNativeControl id="Province" formControlName="province" required
                            (selectionChange)="onChangeProvince($event)" placeholder="{{'BEEC.GENDETAILS.LOC_DETAILS_PROVINCE_PLACEHOLDER' | translate}}">
                            <mat-option *ngFor="let location of locationDetails" [value]="location.province">
                                {{location.province}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.LOC_DETAILS_LOCATION' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select matNativeControl id="Location" formControlName="location" required
                            placeholder="{{'BEEC.GENDETAILS.LOC_DETAILS_LOCATION_PLACEHOLDER' | translate}}">
                            <mat-option *ngFor="let loc of locationlist" [value]="loc">{{loc}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

        </fieldset>
        <fieldset>
            <legend>Type of building</legend>
            <h2 class="heading-style">1.2 {{'BEEC.GENDETAILS.BUILDING_DETAILS_TITLE' | translate}}</h2>
            <p>{{'BEEC.GENDETAILS.BUILDING_DETAILS_TEXT' | translate}}
            </p>
            <div class="fields-note">
                <p><span class="notes-style"> {{'BEEC.COMMON.NOTE' | translate}}:</span>{{'BEEC.GENDETAILS.BUILDING_DETAILS_NOTE_TEXT' | translate}}
                </p>
            </div>

            <div class="field-align">
                <div class="field-group w-100 col-md-5">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.BUILDING_DETAILS_TYPE' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select matNativeControl id="Buidling" formControlName="buildingType" required
                            (selectionChange)="onChangeBuildingType($event)" placeholder="Select building type">
                            <mat-option *ngFor="let building of buildingDetails" [value]="building.buildingtype">
                                {{building.buildingtype}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>


                <div class="field-group w-100 col-md-5">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.BUILDING_DETAILS_SPACES' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select matNativeControl id="BuidlingSpaces" formControlName="buildingSpaces" multiple
                            required placeholder="Select spaces within the building (multiple selections allowed)">
                            <mat-option *ngFor="let space of spacesList" [value]="space">{{space}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

        </fieldset>

        <fieldset>
            <legend>Building age, area, no. of floors, occupancy hours</legend>
            <h2 class="heading-style">1.3 {{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_TITLE' | translate}}</h2>
            <div class="fields-note">
                <p><span class="notes-style"> {{'BEEC.COMMON.NOTE' | translate}}:</span> {{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_NOTE_TEXT' | translate}}
                </p>
            </div>

            <div class="field-align">
                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_FLOORS' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <input formControlName="noOfFloors" type="number" matInput required
                            placeholder="Enter the number of floors in the building">
                        <mat-error *ngIf="genDetailsForm.controls['noOfFloors'].hasError('pattern')">
                            Negative numbers and decimal numbers are not allowed.
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_OCCHRS' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <input formControlName="occupanyHoursPerWeek" type="number" matInput required
                            placeholder="Enter occupancy hours per week">
                        <mat-error *ngIf="genDetailsForm.controls['occupanyHoursPerWeek'].hasError('max')">
                            Occupancy hours should not exceed 168hrs.
                        </mat-error>
                    </mat-form-field>
                </div>
                <!-- <span class="units-picker-component">
                <mat-form-field class="w-100 mt-4 col-md-6" appearance="outline">
                    <mat-label>Building gross area</mat-label>
                    <input  formControlName="buildingGrossArea" matInput type="number" (keyup)="resetGross($event)" >
                    <mat-select  placeholder="units" formControlName="grossAreaUnits"
                        style="width: 180px;"  >
                        <mat-option value="square feet">Square Feet</mat-option>
                        <mat-option value="square meter">Square Meter</mat-option>
                    </mat-select>
                </mat-form-field>
            </span> -->
            </div>
            <div class="field-align">
                <div class="field-group w-100 col-md-8">
                    <div class="units-picker-component">
                        <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_NETAREA' | translate}}</mat-label>
                        <mat-form-field class="netarea-field" appearance="outline">
                            <input formControlName="netOccupiedFloorArea" type="number" matInput required
                                (input)="calculateGross()"
                                placeholder="Enter built up area (i.e. carpet area + thickness of outer walls + balcony - parking area)">
                            <mat-select style="padding-left: 8px ;width: 180px;" placeholder="units"
                                formControlName="netAreaUnits" (selectionChange)="calculateGross()">
                                <mat-option value="square feet">{{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_SQFEET' | translate}}</mat-option>
                                <mat-option value="square meter">{{'BEEC.GENDETAILS.BUILDING_FUN_DETAILS_SQMETER' | translate}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>

            </div>

        </fieldset>
        <fieldset>
            <legend>Occupancy - People </legend>
            <h2 class="heading-style">1.4 {{'BEEC.GENDETAILS.OCCUPANCY_TITLE' | translate}}</h2>
            <p>{{'BEEC.GENDETAILS.OCCUPANCY_TEXT' | translate}}
            </p>

            <div class="fields-note">
                <p><span class="notes-style"> {{'BEEC.COMMON.NOTE' | translate}}:</span> {{'BEEC.GENDETAILS.OCCUPANCY_NOTE_TEXT' | translate}}
                </p>
            </div>
            <div>
                <mat-radio-group aria-label="Select an option" formControlName="occupantDensity"
                    (change)="onChangeOccupancy()">
                    A. <mat-radio-button value="1">{{'BEEC.GENDETAILS.OCCUPANCY_PEOPLEOCCUPYING' | translate}}</mat-radio-button><br>
                    B. <mat-radio-button value="2"> {{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY' | translate}}
                    </mat-radio-button><br>
                    C. <mat-radio-button value="3">{{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY_UNKNOWN' | translate}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>

            <div *ngIf="genDetailsForm.controls.occupantDensity.value==1">
             
                <div class="field-button-calculate">
                    <b style="margin-top: 1.5rem;">{{'BEEC.GENDETAILS.OCCUPANCY_PEOPLEOCCUPYING_TEXT' | translate}}</b>
                    <mat-form-field class="w-100 mt-2 col-md-4" appearance="outline">
                        <input matInput placeholder="Enter number of people" formControlName="noOfPeopleOccupying"
                            type="number" (keyup)="onChangeOccupancy()" #peopleOccupying>
                        <mat-error *ngIf="genDetailsForm.controls['noOfPeopleOccupying'].hasError('pattern')">
                            Negative numbers and decimal numbers are not allowed.
                        </mat-error>
                    </mat-form-field>
                </div>
                <p>{{'BEEC.GENDETAILS.OCCUPANCY_PEOPLEOCCUPYING_HINT' | translate}}: 50 or 100 or 125 or 1020,etc.</p>
            </div>


            <span *ngIf="genDetailsForm.controls.occupantDensity.value==2">

                <p class="fields-note">{{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY_TEXT' | translate}}</p>
                <b style="margin-top: 1em;">{{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY_HINT' | translate}} :</b>
                <span class="units-picker-component">
                    <mat-form-field class="w-100 mt-2 col-md-4" appearance="outline">
                        <input matInput placeholder="{{'BEEC.COMMON.ENTER_VALUE' | translate}}" type="number" formControlName="occupantDensityKnown"
                            type="number">
                        <mat-select [(value)]="occupancyUnits" placeholder="{{'BEEC.COMMON.SELECT_UNITS' | translate}}"
                            formControlName="occupantDensityUnits">
                            <mat-label>Select units</mat-label>
                            <mat-option value="square feet per person">{{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY_SQFTPERSON' | translate}} </mat-option>
                            <mat-option value="square meter per person">{{'BEEC.GENDETAILS.OCCUPANCY_OCCDENSITY_SQMTPERSON' | translate}} </mat-option>
                        </mat-select>
                    </mat-form-field>
                </span>
            </span>

            <div>
                <b class="calculated-values">
                    {{'BEEC.GENDETAILS.OCCUPANCY_OCCUPANCYDENSITY' | translate}} : {{genDetailsForm.controls.occupantDensityKnown.value | number:'1.2-2'}}
                    {{genDetailsForm.controls.occupantDensityUnits.value}}
                </b>
            </div>
        </fieldset>
        <fieldset>
            <legend>Energy and Fuel cost</legend>
            <h2 class="heading-style">1.5 {{'BEEC.GENDETAILS.ENERGYANDFUEL_TITLE' | translate}}</h2>

            <p>{{'BEEC.GENDETAILS.ENERGYANDFUEL_TEXT' | translate}}
            </p>
            <div class="fields-note">
                <p><span class="notes-style"> {{'BEEC.COMMON.NOTE' | translate}}:</span> {{'BEEC.GENDETAILS.ENERGYANDFUEL_NOTE_TEXT' | translate}}
                </p>
            </div>

            <div class="field-align">

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.ENERGYANDFUEL_ELECTRICITY_UNITS' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="electricityUnits" placeholder="{{'BEEC.COMMON.SELECT_UNITS' | translate}}">
                            <mat-option *ngFor="let unit of eletricityunitslist" [value]="unit"
                                placeholder="{{'BEEC.COMMON.SELECT_UNITS' | translate}}">{{unit}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.ENERGYANDFUEL_ELECTRICITY_VALUE' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <input type="number" matInput formControlName="electricityCost" placeholder="{{'BEEC.COMMON.ENTER_VALUE' | translate}}"
                            required>
                    </mat-form-field><br>
                </div>
            </div>

            <div class="field-align">
                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.ENERGYANDFUEL_FUELCOST_UNITS' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <mat-select formControlName="fuelUnits" placeholder="Select units">
                            <mat-option *ngFor="let units of fuelunitslist" [value]="units">{{units}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="field-group w-100 col-md-4">
                    <mat-label class="field-title-beet">{{'BEEC.GENDETAILS.ENERGYANDFUEL_FUELCOST_VALUE' | translate}}</mat-label>
                    <mat-form-field appearance="outline">
                        <input matInput type="number" formControlName="fuelCost" placeholder="{{'BEEC.COMMON.ENTER_VALUE' | translate}}" required>
                    </mat-form-field>
                </div>
            </div>
        </fieldset>
    </form>
</div>